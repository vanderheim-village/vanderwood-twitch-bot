{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Battle of Midgard Twitch Bot Documentation","text":"<p>The Battle of Midgard Twitch Bot is a bot that has been built for the VanderwoodTV Twitch channel. The bot is built mainly using the TwitchIO and the tortoise-orm libraries.</p> <p>The bot has been built and coded by Adam Birds of ADB Web Designs.</p> <p>The documentation for the bot has been created using Material for MkDocs.</p>"},{"location":"#commands","title":"Commands","text":"<p>The bot has a number of commands that are available to the streamer, moderators, subscribers and normal viewers.</p>"},{"location":"#streamer-commands","title":"Streamer Commands","text":"<ul> <li>!registerchannel - Registers the channel for the Battle of Midgard game.</li> </ul>"},{"location":"#moderator-commands","title":"Moderator Commands","text":"<ul> <li>!createclan - Creates a clan which viewers can join in the Battle of Midgard game.</li> <li>!add - Adds a viewer to a clan in the Battle of Midgard game.</li> <li>!remove - Removes a viewer from a clan in the Battle of Midgard game.</li> <li>!startseason - Starts a new season of the Battle of Midgard game.</li> <li>!endseason - Ends the current season of the Battle of Midgard game.</li> <li>!startsession - Starts a new session of the Battle of Midgard game.</li> <li>!endsession - Ends the current session of the Battle of Midgard game.</li> <li>!setdate - Sets the end date of the current season of the Battle of Midgard game.</li> <li>!addpoints - Adds points to the viewer for the current season of the Battle of Midgard game.</li> <li>!removepoints - Removes points from the viewer for the current season of the Battle of Midgard game.</li> </ul>"},{"location":"#subscriber-commands","title":"Subscriber Commands","text":"<ul> <li>!join - Joins the Battle of Midgard game and get randomly assigned to a clan.</li> </ul>"},{"location":"#viewer-commands","title":"Viewer Commands","text":"<ul> <li>!rank - Displays the Top 10 players in the clan for the current season of the Battle of Midgard game.</li> <li>!standings - Displays the current clan standings for the current season of the Battle of Midgard game.</li> <li>!overallrank - Displays the top 10 players across all clans for the current season of the Battle of Midgard game.</li> <li>!myrank - Displays the current season points, lifetime points, clan rank and overall rank for the viewer.</li> <li>!dates - Displays the start and end dates for the current season of the Battle of Midgard game.</li> <li>!mvp - Displays the MVP from the previous season of the Battle of Midgard game.</li> <li>!checkin - Checks the viewer into the current session of the Battle of Midgard game.</li> <li>!help - Displays a link to this documentation.</li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Ubuntu 20.04 or later</li> <li>Python 3.10 or later</li> <li>PostgreSQL 13 or later</li> <li>Nginx</li> </ul>"},{"location":"installation/#installation-steps","title":"Installation Steps","text":"<ol> <li> <p>Clone or download the repository.</p> </li> <li> <p>Create a Python virtual environment and install the dependencies.</p> <p><pre><code>python3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n</code></pre></p> </li> <li> <p>Create a PostgreSQL database and user.</p> <p><pre><code>sudo -u postgres psql\nCREATE DATABASE battleofmidgard;\nCREATE USER battleofmidgard WITH PASSWORD 'password';\nGRANT ALL PRIVILEGES ON DATABASE battleofmidgard TO battleofmidgard;\n</code></pre></p> </li> <li> <p>Make a copy of config.yml.example and rename it to config.yml.</p> <p><pre><code>cp config.yml.example config.yml</code></pre></p> </li> <li> <p>Edit config.yml and add in the database credentials and details.</p> </li> <li> <p>Edit config.yml and enter the twitch access token, client id and client secret.</p> </li> <li> <p>Edit config.yml and enter the twitch channel name and id to connect to.</p> </li> <li> <p>Edit config.yml and enter your callback URL.</p> </li> <li> <p>Edit config.yml and fill out the other details.</p> </li> <li> <p>Configure Nginx to proxy this application using the <code>example-nginx-virtualhost.conf</code> file.</p> </li> <li> <p>Run the database migrations.</p> <p><pre><code>aerich upgrade</code></pre></p> </li> <li> <p>Run the application.</p> <p><pre><code>python3 bot.py</code></pre></p> </li> </ol>"},{"location":"installation/#enabling-as-a-systemd-service","title":"Enabling as a Systemd Service","text":"<ol> <li> <p>Copy the <code>vanderwood-twitch-bot.service</code> file to <code>/etc/systemd/system/</code>.</p> </li> <li> <p>Edit the file and change the <code>WorkingDirectory</code> and <code>ExecStart</code> paths to match your installation.</p> </li> <li> <p>Reload the systemd daemon.</p> <p><pre><code>sudo systemctl daemon-reload</code></pre></p> </li> <li> <p>Enable the service.</p> <p><pre><code>sudo systemctl enable vanderwood-twitch-bot.service</code></pre></p> </li> <li> <p>Start the service.</p> <p><pre><code>sudo systemctl start vanderwood-twitch-bot.service</code></pre></p> </li> </ol>"},{"location":"installation/#updating","title":"Updating","text":"<ol> <li> <p>Pull the latest changes from the repository.</p> </li> <li> <p>Run the database migrations.</p> <p><pre><code>aerich upgrade</code></pre></p> </li> <li> <p>Restart the application.</p> <p><pre><code>sudo systemctl restart vanderwood-twitch-bot.service</code></pre></p> </li> </ol>"},{"location":"commands/","title":"Commands","text":"<p>The bot has a number of commands that are available to the streamer, moderators, subscribers and normal viewers.</p>"},{"location":"commands/#streamer-commands","title":"Streamer Commands","text":"<p>The streamer commands are available to the streamer only, and can be found here.</p>"},{"location":"commands/#moderator-commands","title":"Moderator Commands","text":"<p>The moderator commands are available to the streamer and moderators only, and can be found here.</p>"},{"location":"commands/#subscriber-commands","title":"Subscriber Commands","text":"<p>The subscriber commands are available to the streamer, moderators and subscribers only, and can be found here.</p>"},{"location":"commands/#viewer-commands","title":"Viewer Commands","text":"<p>The viewer commands are available to everyone and can be found here.</p>"},{"location":"commands/moderator-commands/","title":"Moderator Commands","text":"<p>The following commands are available to the streamer and moderators only:</p> <ul> <li>!createclan - Creates a clan which viewers can join in the Battle of Midgard game.</li> <li>!add - Adds a viewer to a clan in the Battle of Midgard game.</li> <li>!remove - Removes a viewer from a clan in the Battle of Midgard game.</li> <li>!startseason - Starts a new season of the Battle of Midgard game.</li> <li>!endseason - Ends the current season of the Battle of Midgard game.</li> <li>!startsession - Starts a new session of the Battle of Midgard game.</li> <li>!endsession - Ends the current session of the Battle of Midgard game.</li> <li>!setdate - Sets the end date of the current season of the Battle of Midgard game.</li> <li>!addpoints - Adds points to the viewer for the current season of the Battle of Midgard game.</li> <li>!removepoints - Removes points from the viewer for the current season of the Battle of Midgard game.</li> </ul>"},{"location":"commands/moderator-commands/add/","title":"Add Player to Clan","text":"<p>The <code>!add</code> command is used to add a player to a clan for the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/add/#usage","title":"Usage","text":"<p><code>!add &lt;clan tag&gt; &lt;player&gt;</code></p>"},{"location":"commands/moderator-commands/add/#example","title":"Example","text":"<p><code>!add THOR vanderwoodtv</code></p>"},{"location":"commands/moderator-commands/add/#permissions","title":"Permissions","text":"<p>The <code>!add</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/addpoints/","title":"Add Points","text":"<p>The <code>!addpoints</code> command is used to add points to a player for the current season of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/addpoints/#usage","title":"Usage","text":"<p><code>!addpoints &lt;player&gt; &lt;points&gt;</code></p>"},{"location":"commands/moderator-commands/addpoints/#example","title":"Example","text":"<p><code>!addpoints vanderwoodtv 100</code></p>"},{"location":"commands/moderator-commands/addpoints/#permissions","title":"Permissions","text":"<p>The <code>!addpoints</code> command can be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/createclan/","title":"Create Clan","text":"<p>The <code>!createclan</code> command is used to create a clan for the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/createclan/#usage","title":"Usage","text":"<p><code>!createclan &lt;clan tag&gt; &lt;clan name&gt;</code></p>"},{"location":"commands/moderator-commands/createclan/#example","title":"Example","text":"<p><code>!createclan THOR Thor's Army</code></p>"},{"location":"commands/moderator-commands/createclan/#permissions","title":"Permissions","text":"<p>The <code>!createclan</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/endseason/","title":"End Season","text":"<p>The <code>!endseason</code> command is used to end the current season of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/endseason/#usage","title":"Usage","text":"<p><code>!endseason</code></p>"},{"location":"commands/moderator-commands/endseason/#example","title":"Example","text":"<p><code>!endseason</code></p>"},{"location":"commands/moderator-commands/endseason/#permissions","title":"Permissions","text":"<p>The <code>!endseason</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/endsession/","title":"End Session","text":"<p>The <code>!endsession</code> command is used to end the current session of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/endsession/#usage","title":"Usage","text":"<p><code>!endsession</code></p>"},{"location":"commands/moderator-commands/endsession/#example","title":"Example","text":"<p><code>!endsession</code></p>"},{"location":"commands/moderator-commands/endsession/#permissions","title":"Permissions","text":"<p>The <code>!endsession</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/remove/","title":"Remove Player from Clan","text":"<p>The <code>!remove</code> command is used to remove a player from a clan for the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/remove/#usage","title":"Usage","text":"<p><code>!remove &lt;clan tag&gt; &lt;player&gt;</code></p>"},{"location":"commands/moderator-commands/remove/#example","title":"Example","text":"<p><code>!remove THOR vanderwoodtv</code></p>"},{"location":"commands/moderator-commands/remove/#permissions","title":"Permissions","text":"<p>The <code>!remove</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/removepoints/","title":"Remove Points","text":"<p>The <code>!removepoints</code> command is used to remove points from a player for the current season of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/removepoints/#usage","title":"Usage","text":"<p><code>!removepoints &lt;player&gt; &lt;points&gt;</code></p>"},{"location":"commands/moderator-commands/removepoints/#example","title":"Example","text":"<p><code>!removepoints vanderwoodtv 100</code></p>"},{"location":"commands/moderator-commands/removepoints/#permissions","title":"Permissions","text":"<p>The <code>!removepoints</code> command can be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/setdate/","title":"Set End Date","text":"<p>The <code>!setdate</code> command is used to set the end date of the current season of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/setdate/#usage","title":"Usage","text":"<p><code>!setdate &lt;DD/MM/YYYY&gt;</code></p>"},{"location":"commands/moderator-commands/setdate/#example","title":"Example","text":"<p><code>!setdate 31/12/2022</code></p>"},{"location":"commands/moderator-commands/setdate/#permissions","title":"Permissions","text":"<p>The <code>!setdate</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/startseason/","title":"Start Season","text":"<p>The <code>!startseason</code> command is used to start a new season of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/startseason/#usage","title":"Usage","text":"<p><code>!startseason &lt;season name&gt;</code></p>"},{"location":"commands/moderator-commands/startseason/#example","title":"Example","text":"<p><code>!startseason Winter 2022</code></p>"},{"location":"commands/moderator-commands/startseason/#permissions","title":"Permissions","text":"<p>The <code>!startseason</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/moderator-commands/startsession/","title":"Start Session","text":"<p>The <code>!startsession</code> command is used to start a new session of the Battle of Midgard game.</p>"},{"location":"commands/moderator-commands/startsession/#usage","title":"Usage","text":"<p><code>!startsession</code></p>"},{"location":"commands/moderator-commands/startsession/#example","title":"Example","text":"<p><code>!startsession</code></p>"},{"location":"commands/moderator-commands/startsession/#permissions","title":"Permissions","text":"<p>The <code>!startsession</code> command can only be used by moderators or the streamer.</p>"},{"location":"commands/streamer-commands/","title":"Streamer Commands","text":"<p>The following commands are available to the streamer only:</p> <ul> <li>!registerchannel - Registers the channel to be used for the Battle of Midgard game.</li> </ul>"},{"location":"commands/streamer-commands/registerchannel/","title":"Register Channel","text":"<p>The <code>!registerchannel</code> command is used to register the channel to be used for the Battle of Midgard game. This only needs to be used once.</p>"},{"location":"commands/streamer-commands/registerchannel/#usage","title":"Usage","text":"<p><code>!registerchannel</code></p>"},{"location":"commands/streamer-commands/registerchannel/#example","title":"Example","text":"<p><code>!registerchannel</code></p>"},{"location":"commands/streamer-commands/registerchannel/#permissions","title":"Permissions","text":"<p>The <code>!registerchannel</code> command can only be used by the streamer.</p>"},{"location":"commands/subscriber-commands/","title":"Subscriber Commands","text":"<p>The following commands are available to the subscriber only:</p> <ul> <li>!join - Joins the Battle of Midgard game and get randomly assigned to a clan.</li> </ul>"},{"location":"commands/subscriber-commands/join/","title":"Join","text":"<p>The <code>!join</code> command is used to join the Battle of Midgard game and be assigned to a clan.</p>"},{"location":"commands/subscriber-commands/join/#usage","title":"Usage","text":"<p><code>!join</code></p>"},{"location":"commands/subscriber-commands/join/#example","title":"Example","text":"<p><code>!join</code></p>"},{"location":"commands/subscriber-commands/join/#permissions","title":"Permissions","text":"<p>The <code>!join</code> command can only be used by subscribers, moderators, or the streamer.</p>"},{"location":"commands/viewer-commands/","title":"Viewer Commands","text":"<p>The viewer commands are available to everyone:</p> <ul> <li>!rank - Displays the Top 10 players in the clan for the current season of the Battle of Midgard game.</li> <li>!standings - Displays the current clan standings for the current season of the Battle of Midgard game.</li> <li>!overallrank - Displays the top 10 players across all clans for the current season of the Battle of Midgard game.</li> <li>!myrank - Displays the current season points, lifetime points, clan rank and overall rank for the viewer.</li> <li>!dates - Displays the start and end dates for the current season of the Battle of Midgard game.</li> <li>!mvp - Displays the MVP from the previous season of the Battle of Midgard game.</li> <li>!checkin - Checks the viewer into the current session of the Battle of Midgard game.</li> <li>!help - Displays a link to this documentation.</li> </ul>"},{"location":"commands/viewer-commands/checkin/","title":"Check In","text":"<p>The <code>!checkin</code> command is used to check into the current session of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/checkin/#usage","title":"Usage","text":"<p><code>!checkin</code></p>"},{"location":"commands/viewer-commands/checkin/#example","title":"Example","text":"<p><code>!checkin</code></p>"},{"location":"commands/viewer-commands/checkin/#permissions","title":"Permissions","text":"<p>The <code>!checkin</code> command can be used by anyone as lomg as they are enrolled in the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/dates/","title":"Dates","text":"<p>The <code>!dates</code> command is used to display the start and end dates of the current season of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/dates/#usage","title":"Usage","text":"<p><code>!dates</code></p>"},{"location":"commands/viewer-commands/dates/#example","title":"Example","text":"<p><code>!dates</code></p>"},{"location":"commands/viewer-commands/dates/#permissions","title":"Permissions","text":"<p>The <code>!dates</code> command can be use by anyone.</p>"},{"location":"commands/viewer-commands/help/","title":"Help","text":"<p>The <code>!help</code> command is used to display the link to the Battle of Midgard documentation.</p>"},{"location":"commands/viewer-commands/help/#usage","title":"Usage","text":"<p><code>!help</code></p>"},{"location":"commands/viewer-commands/help/#example","title":"Example","text":"<p><code>!help</code></p>"},{"location":"commands/viewer-commands/help/#permissions","title":"Permissions","text":"<p>The <code>!help</code> command can be used by anyone.</p>"},{"location":"commands/viewer-commands/mvp/","title":"MVP","text":"<p>The <code>!mvp</code> command is used to display the  MVP from the previous season of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/mvp/#usage","title":"Usage","text":"<p><code>!mvp</code></p>"},{"location":"commands/viewer-commands/mvp/#example","title":"Example","text":"<p><code>!mvp</code></p>"},{"location":"commands/viewer-commands/mvp/#permissions","title":"Permissions","text":"<p>The <code>!mvp</code> command can be used by anyone.</p>"},{"location":"commands/viewer-commands/myrank/","title":"My Rank","text":"<p>The <code>!myrank</code> command is used to display the current season points, lifetime points, clan rank and overall rank for the viewer.</p>"},{"location":"commands/viewer-commands/myrank/#usage","title":"Usage","text":"<p><code>!myrank</code></p>"},{"location":"commands/viewer-commands/myrank/#example","title":"Example","text":"<p><code>!myrank</code></p>"},{"location":"commands/viewer-commands/myrank/#permissions","title":"Permissions","text":"<p>The <code>!myrank</code> command can be used by anyone.</p>"},{"location":"commands/viewer-commands/overallrank/","title":"Overall Rank","text":"<p>The <code>!overallrank</code> command is used to display the top 10 players across all clans for the current season of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/overallrank/#usage","title":"Usage","text":"<p><code>!overallrank</code></p>"},{"location":"commands/viewer-commands/overallrank/#example","title":"Example","text":"<p><code>!overallrank</code></p>"},{"location":"commands/viewer-commands/overallrank/#permissions","title":"Permissions","text":"<p>The <code>!overallrank</code> command can be used by anyone.</p>"},{"location":"commands/viewer-commands/rank/","title":"Rank","text":"<p>The <code>!rank</code> command is used to display the top 10 players in the clan for the current season of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/rank/#usage","title":"Usage","text":"<p><code>!rank</code></p>"},{"location":"commands/viewer-commands/rank/#example","title":"Example","text":"<p><code>!rank</code></p>"},{"location":"commands/viewer-commands/rank/#permissions","title":"Permissions","text":"<p>The <code>!rank</code> command can be used by anyone.</p>"},{"location":"commands/viewer-commands/standings/","title":"Standings","text":"<p>The <code>!standings</code> command is used to display the current clan standings for the current season of the Battle of Midgard game.</p>"},{"location":"commands/viewer-commands/standings/#usage","title":"Usage","text":"<p><code>!standings</code></p>"},{"location":"commands/viewer-commands/standings/#example","title":"Example","text":"<p><code>!standings</code></p>"},{"location":"commands/viewer-commands/standings/#permissions","title":"Permissions","text":"<p>The <code>!standings</code> command can be used by anyone.</p>"}]}